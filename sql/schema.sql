create table customer (credit_card_expiry date, id bigint generated by default as identity, credit_card_number CHAR(16) not null, phone_number varchar(20) not null, fullname VARCHAR(200) CHECK((LENGTH(FULLNAME) >= 3) AND (LENGTH(FULLNAME) <=200)) not null, email varchar(255), primary key (id));
create table family_product (id bigint generated by default as identity, name VARCHAR(200) CHECK((LENGTH(name) >= 1) AND (LENGTH(name) <=200)) not null, primary key (id));
create table product (discount DECIMAL(5,2)  NOT NULL DEFAULT 0 CHECK((discount >= 0) AND (discount <= 100.00)) not null, price DECIMAL(5,2) DEFAULT 0 CHECK((PRICE >= 0) AND (PRICE <= 99999)) not null, stock INT NOT NULL DEFAULT 0 CHECK((STOCK >= 0) AND (STOCK <= 99999)) not null check ((stock>=0) and (stock<=99999)), valuation INT NOT NULL DEFAULT 3 CHECK((valuation >= 1) AND (valuation <= 5)) not null check ((valuation>=1) and (valuation<=5)), family_product_id bigint, id bigint generated by default as identity, description VARCHAR(200) CHECK((LENGTH(description) >= 3) AND (LENGTH(description) <=200)) not null, url VARCHAR(200) CHECK((LENGTH(URL) >= 5) AND (LENGTH(URL) <=200)), primary key (id));
create table users (id bigint generated by default as identity, phone_number varchar(20) not null, password VARCHAR(100) CHECK((LENGTH(PASSWORD) >= 8) AND (LENGTH(PASSWORD) <=100)) not null, adress VARCHAR(200) CHECK((LENGTH(ADRESS) >= 3) AND (LENGTH(ADRESS) <=200)) not null, fullname VARCHAR(200) CHECK((LENGTH(FULLNAME) >= 3) AND (LENGTH(FULLNAME) <=200)) not null, username VARCHAR(200) CHECK((LENGTH(USERNAME) >= 3) AND (LENGTH(USERNAME) <=200)) not null, email varchar(255), primary key (id));
alter table if exists product add constraint FK3rdy6ww212u6cwojcwouvt0dp foreign key (family_product_id) references family_product;
